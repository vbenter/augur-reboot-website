import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.BVOCwoKb.js";import{U as b,$ as w,a as E}from"./animationStore.DYtN9AJJ.js";import{c as y,a as S}from"./utils.CBfrqCZ4.js";function v(e,t,r){let n=new Set(t).add(void 0);return e.listen((o,s,i)=>{n.has(i)&&r(o,s,i)})}let g=(e,t)=>r=>{e.current!==r&&(e.current=r,t())};function T(e,{keys:t,deps:r=[e,t]}={}){let n=u.useRef();n.current=e.get();let o=u.useCallback(i=>(g(n,i)(e.value),t?.length>0?v(e,t,g(n,i)):e.listen(g(n,i))),r),s=()=>n.current;return u.useSyncExternalStore(o,s,s)}const C=({children:e,isPoweredUp:t=!0})=>{const r=t?"display-on":"display-off";return a.jsx("div",{className:y("crt fixed inset-0 w-screen h-screen z-30 p-10",r),children:e})},j=({segments:e,defaultTypingSpeed:t=60,onComplete:r})=>{const[n,o]=u.useState(""),[s,i]=u.useState(0),[d,p]=u.useState(0),x=u.useRef(null);return u.useEffect(()=>{if(s<e.length){const f=e[s],c=f.value,m=f.speed||t;if(d<c.length){const l=setTimeout(()=>{o(h=>h+c[d]),p(h=>h+1)},m);return()=>clearTimeout(l)}else i(l=>l+1),p(0)}else x.current&&x.current.classList.add("blink-active"),r&&r()},[s,d,e,t,r]),a.jsxs("span",{className:"typewriter-text",children:[n,a.jsx("span",{ref:x,className:"cursor"})]})},R=({sentences:e,defaultTypingSpeed:t=60,delayBetweenSentences:r=300,holdDuration:n=2500,onSequenceComplete:o})=>{const[s,i]=u.useState(0),[d,p]=u.useState(!0),x=c=>{const m=c.split(/(\.\.\.)/);return m.length>1?m.filter(l=>l).map(l=>l==="..."?{value:l,speed:t*12}:{value:l,speed:t}):[{value:c,speed:t}]},f=()=>{setTimeout(()=>{p(!1),setTimeout(()=>{i(c=>c+1),p(!0)},r)},n)};return u.useEffect(()=>{s>=e.length&&o&&o()},[s,e.length,o]),s>=e.length?null:a.jsx("span",{className:"uppercase",children:d&&a.jsx(j,{segments:x(e[s]),defaultTypingSpeed:t,onComplete:f})})};function I({variant:e,size:t}){const r="inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 hover:cursor-pointer",n={default:"bg-primary text-background hover:bg-primary/90",destructive:"bg-red-600 text-white hover:bg-red-600/90",outline:"border border-primary bg-transparent text-primary hover:bg-primary hover:text-background",secondary:"bg-muted text-muted-foreground hover:bg-muted/80",ghost:"text-foreground hover:bg-foreground/10",link:"text-foreground hover:text-loud-foreground focus:text-loud-foreground hover:fx-glow focus:fx-glow"},s=e==="link"?"":{default:"h-10 px-4 py-2 text-sm",sm:"h-9 px-3 text-xs",lg:"h-11 px-8 text-base",xl:"h-14 px-8 text-xl",icon:"h-10 w-10"}[t];return S(r,n[e],s)}const N=({variant:e="default",size:t="default",as:r,href:n,external:o,className:s,children:i,...d})=>{const p=n?"a":r||"button",x=o??(n?.startsWith("http")||n?.startsWith("//")),f=I({variant:e,size:t}),c=S(f,s);if(p==="a"&&n){const m=x?{target:"_blank",rel:"noopener noreferrer"}:{};return a.jsx("a",{href:n,className:c,...m,...d,children:i})}return a.jsx("button",{type:"button",className:c,...d,children:i})},k=({animated:e,direction:t="right",className:r})=>a.jsx("span",{className:S("pointer",`pointer-${t}`,e==="auto"&&"pointer-animated",e==="always"&&"pointer-animate-always",r)}),O=["","RESEARCH AND DEVELOPMENT HAS RETURNED TO ETHEREUM'S FIRST ICO","PERFORMING SYSTEM CHECKS... UPDATE REQUIRED","AUGUR REBOOT BEGINS"],A=()=>{const e=T(w),[t,r]=u.useState(!0),n=()=>{setTimeout(()=>{r(!1),setTimeout(()=>{r(!0),setTimeout(()=>{E.completeBootSequence()},500)},200)},1e3)},o=()=>{E.skipToMainContent()};return u.useEffect(()=>{const s=i=>{i.key==="Escape"&&o()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[]),e.uiState!==b.BOOT_SEQUENCE?null:a.jsxs(C,{isPoweredUp:t,children:[a.jsxs(N,{onClick:o,variant:"link",size:"lg",className:"fixed top-8 right-10 z-50 text-muted-foreground hover:no-underline",children:[a.jsx(k,{animated:"auto",direction:"right"}),"SKIP INTRO (ESC)"]}),a.jsx("div",{className:"flex items-center justify-center h-screen uppercase text-foreground text-2xl",children:a.jsx(R,{sentences:O,defaultTypingSpeed:40,onSequenceComplete:n})})]})};export{A as default};
